{"version":3,"sources":["App.js","reportWebVitals.js","index.js"],"names":["ancestorNodes","keys","BemItem","obj","Object","assign","this","other","block","element","modifier","value","unknown","string","partsRegex","match","parts","groups","plainParts","forEach","key","className","fromStringWithPattern","path","replace","split","console","error","node","nextAncestor","parentNode","tagName","App","htmlInputRef","React","useRef","filesInputRef","ref","onClick","html","current","nodesWithClasses","DOMParser","parseFromString","querySelectorAll","log","nodes","bemList","Array","from","classList","map","fromClassName","bemItem","toString","lintForInvalidBemNames","bemItemWithoutModifier","getUnmodifiedItem","some","potentialBaseBemItem","isEqual","lintForModifierWithoutBase","childNode","childBemList","childBemItem","foundBlockAncestor","ancestor","parentBemItem","getBlock","lintForElementsOutsideBlocks","filePaths","trim","fullPath","folderPath","slice","join","folderBemItem","fromFolderPath","filename","filenameBemItem","getWithoutValue","comparisonMessages","push","partName","lintFilePaths","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.cf157793.chunk.js","sourcesContent":["import \"./App.css\";\nimport React from \"react\";\nimport project1Classes from \"./project1-classes.json\";\nimport project2Classes from \"./project2-classes.json\";\n\nconst keys = [\"unknown\", \"block\", \"element\", \"modifier\", \"value\"];\n\n/**\n * Abstracts the 4 parts of a BEM classname for comparison and convenient modificationn\n */\nclass BemItem {\n  constructor(obj) {\n    Object.assign(this, obj);\n  }\n  isEqual(other) {\n    return (\n      this.block === other.block &&\n      this.element === other.element &&\n      this.modifier === other.modifier &&\n      this.value === other.value\n    );\n  }\n  getUnmodifiedItem() {\n    return Object.assign(new BemItem(), this, { modifier: \"\", value: \"\" });\n  }\n  getBlock() {\n    return Object.assign(new BemItem(), this, {\n      element: \"\",\n      modifier: \"\",\n      value: \"\",\n    });\n  }\n  getWithoutValue() {\n    return Object.assign(new BemItem(), this, { value: \"\" });\n  }\n  toString() {\n    if (this.unknown) {\n      return this.unknown;\n    } else {\n      return this.block + this.element + this.modifier + this.value;\n    }\n  }\n  static fromStringWithPattern(string, partsRegex) {\n    const match = string.match(partsRegex);\n    if (match === null) {\n      return new BemItem({\n        block: \"\",\n        element: \"\",\n        modifier: \"\",\n        value: \"\",\n        unknown: string,\n      });\n    }\n    const parts = match.groups;\n    const plainParts = Object.assign(new BemItem(), parts); // Make it serializable\n    keys.forEach((key) => {\n      plainParts[key] = plainParts[key] || \"\";\n    });\n    return plainParts;\n  }\n  static fromClassName(className) {\n    const partsRegex =\n      /^(?<block>[a-zA-Z0-9\\\\-]+)(?<element>__[a-zA-Z0-9\\\\-]*)?(?<modifier>_[a-zA-Z0-9\\\\-]*)?(?<value>_[a-zA-Z0-9\\\\-]*)?$/;\n    return BemItem.fromStringWithPattern(className, partsRegex);\n  }\n  static fromFolderPath(path) {\n    const _parts = path.replace(\"./\", \"\").split(\"/\");\n    if (_parts[0] !== \"blocks\") {\n      console.error(`Path does not start with \\`blocks\\` folder: ${path}`);\n    }\n    const partsRegex =\n      /^(\\.?\\/)?blocks\\/(?<block>[a-zA-Z0-9\\\\-]+)(\\/(?<element>__[a-zA-Z0-9\\\\-]*))?(\\/(?<modifier>_[a-zA-Z0-9\\\\-]*))?(\\/(?<value>_[a-zA-Z0-9\\\\-]*))?$/;\n    return BemItem.fromStringWithPattern(path, partsRegex);\n  }\n}\n\nfunction lintForInvalidBemNames(nodes) {\n  for (let node of nodes) {\n    const bemList = Array.from(node.classList).map(BemItem.fromClassName);\n    for (let bemItem of bemList) {\n      if (bemItem.unknown) {\n        console.error(`Class is not a valid BEM name: ${bemItem.toString()}`);\n      }\n    }\n  }\n}\n\n/**\n * Prints errors for any BEM class modifiers used in the HTML without the unmodified BEM name in the same classList\n * @param {*} nodes\n */\nfunction lintForModifierWithoutBase(nodes) {\n  for (let node of nodes) {\n    const bemList = Array.from(node.classList).map(BemItem.fromClassName);\n    for (let bemItem of bemList) {\n      if (bemItem.modifier) {\n        const bemItemWithoutModifier = bemItem.getUnmodifiedItem();\n        if (\n          !bemList.some((potentialBaseBemItem) => {\n            return bemItemWithoutModifier.isEqual(potentialBaseBemItem);\n          })\n        ) {\n          console.error(\n            `BEM modifier ${bemItem.toString()} has no accompanying base class`\n          );\n        }\n      }\n    }\n  }\n}\n\n/**\n * Iterates up from a node through its ancestors, stopping at #document\n * @param {HTMLElement} node - The node to start searching from (not included in the results)\n */\nfunction* ancestorNodes(node) {\n  let nextAncestor = node.parentNode;\n  while (true) {\n    if (!nextAncestor.tagName) {\n      // quick and dirty way to stop at #document\n      break;\n    }\n    yield nextAncestor;\n    nextAncestor = nextAncestor.parentNode;\n  }\n}\n\nfunction lintForElementsOutsideBlocks(nodes) {\n  for (let childNode of nodes) {\n    const childBemList = Array.from(childNode.classList).map(\n      BemItem.fromClassName\n    );\n    for (let childBemItem of childBemList) {\n      if (childBemItem.element) {\n        // find parent htmlelements that are its corresponding block\n        let foundBlockAncestor = false;\n        for (let ancestor of ancestorNodes(childNode)) {\n          const parentBemList = Array.from(ancestor.classList).map(\n            BemItem.fromClassName\n          );\n          if (\n            parentBemList.some((parentBemItem) => {\n              return parentBemItem.isEqual(childBemItem.getBlock());\n            })\n          ) {\n            foundBlockAncestor = true;\n            break;\n          }\n        }\n        if (!foundBlockAncestor) {\n          console.error(\n            `BEM Element found outside of its block: ${childBemItem.toString()}`\n          );\n        }\n      }\n    }\n  }\n}\n\nfunction compareProjectClassLists(inputClasses, projectClasses) {\n  for (let inputClass of new Set(inputClasses)) {\n    // use a set to avoid duplicate errors\n    if (!projectClasses.includes(inputClass)) {\n      console.error(\n        `Class found in input code is not a class used in this project: ${inputClass}`\n      );\n    }\n  }\n  for (let projectClass of projectClasses) {\n    if (!inputClasses.includes(projectClass)) {\n      console.error(\n        `Class from project brief is not used in the input code: ${projectClass}`\n      );\n    }\n  }\n}\n\nfunction lintFilePaths(filePaths) {\n  for (let fullPath of filePaths) {\n    const folderPath = fullPath\n      .replace(/^\\.\\//, \"\")\n      .split(\"/\")\n      .slice(0, -1)\n      .join(\"/\");\n    const folderBemItem = BemItem.fromFolderPath(folderPath);\n    const filename = fullPath\n      .split(\"/\")\n      .slice(-1)[0]\n      .replace(/\\.css$/, \"\");\n    const filenameBemItem = BemItem.fromClassName(filename);\n    if (!folderBemItem.isEqual(filenameBemItem.getWithoutValue())) {\n      const comparisonMessages = [];\n      if (folderBemItem.unknown) {\n        comparisonMessages.push(`Invalid BEM folder path: ${folderPath}`);\n      }\n      if (filenameBemItem.unknown) {\n        comparisonMessages.push(`Invalid BEM filename: ${filename}`);\n      }\n      for (let partName of [\"block\", \"element\", \"modifier\"]) {\n        if (folderBemItem[partName] !== filenameBemItem[partName]) {\n          comparisonMessages.push(\n            `${partName}: \"${folderBemItem[partName]}\" !== \"${filenameBemItem[partName]}\"`\n          );\n        }\n      }\n      console.error(\n        `Folder path and filename don't match (ignoring value): ${fullPath}\\n\\n${comparisonMessages.join(\n          \"\\n\"\n        )}\\n`,\n        { folderBemItem, filenameBemItem }\n      );\n    }\n  }\n}\n\nfunction App() {\n  const htmlInputRef = React.useRef();\n  const filesInputRef = React.useRef();\n  function handleClickLint() {\n    const html = htmlInputRef.current.value;\n    const parser = new DOMParser();\n    const htmlDoc = parser.parseFromString(html, \"text/html\");\n    const nodesWithClasses = htmlDoc.querySelectorAll(\"[class]\");\n    console.log(\n      \"%c Linting for BEM rule violations...\",\n      \"color: green; font-weight: bold\"\n    );\n    lintForInvalidBemNames(nodesWithClasses);\n    lintForModifierWithoutBase(nodesWithClasses);\n    lintForElementsOutsideBlocks(nodesWithClasses);\n    console.log(\"%c Done!\", \"color: green; font-weight: bold\");\n  }\n  function handleCheckProjectClick(projectClasses) {\n    const html = htmlInputRef.current.value;\n    const parser = new DOMParser();\n    const htmlDoc = parser.parseFromString(html, \"text/html\");\n    const nodesWithClasses = htmlDoc.querySelectorAll(\"[class]\");\n    const classes = Array.from(nodesWithClasses).reduce((list, node) => {\n      return list.concat(Array.from(node.classList));\n    }, []);\n    console.log(\n      \"%c Checking classlist against project...\",\n      \"color: green; font-weight: bold\"\n    );\n    compareProjectClassLists(classes, projectClasses);\n  }\n  function handleClickCheckFiles() {\n    const filePaths = filesInputRef.current.value.trim().split(\"\\n\");\n    console.log(\"%c Checking file paths...\", \"color: green; font-weight: bold\");\n    lintFilePaths(filePaths);\n    console.log(\"%c Done!\", \"color: green; font-weight: bold\");\n  }\n  return (\n    <div className=\"App\">\n      <div className=\"input-block\">\n        <div>Paste your html here:</div>\n        <textarea\n          className=\"input-block__textarea\"\n          ref={htmlInputRef}\n        ></textarea>\n        <button onClick={handleClickLint}>Lint my HTML!</button>\n        {/* <br />\n        <div>If relevant: Check your class list against...</div>{\" \"}\n        <div>\n          <button onClick={() => handleCheckProjectClick(project1Classes)}>\n            Project 1\n          </button>\n          <button onClick={() => handleCheckProjectClick(project2Classes)}>\n            Project 2\n          </button>\n        </div> */}\n      </div>\n      <div className=\"input-block\">\n        <div>\n          Paste your output from <code>find ./blocks -type f</code> here:\n        </div>\n        <textarea\n          className=\"input-block__textarea\"\n          ref={filesInputRef}\n        ></textarea>\n        <button onClick={handleClickCheckFiles}>\n          Check my file structure!\n        </button>\n      </div>\n      <div>\n        Because this is a <i>very</i> minimal viable product, the results will\n        be printed as errors in the console. Open up those dev tools!\n        <br />\n        And remember that this will NOT catch 100% of BEM problems.\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}